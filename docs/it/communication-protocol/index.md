# 【通信プロトコルとは】インタフェース、TCP/IP、HDLC、CORBA、HTTP、DNS、SOAP、IPv6、シリアル通信

## プロトコルとインタフェース


- [ARP](./arp.md)
    - IPアドレスからMACアドレスを取得するデータリンク層のプロトコル(Address Resolution Protocol)。データリンク層のプロトコルなのでつまりルータを超えた(異なるネットワークセグメント)にある端末からはMACアドレスを取得できません。
- TCP
    - IPネットワークにおける誤り制御のためのトランスポート層のプロトコル。(Transmission Control Protocol)。通信の信頼性を確保するために、コネクション確立、再送処理、輻輳処理などの機能がある。機能が多い分、通信のオーバヘッドは増加する。
- UDP
    - トランスポート層のプロトコル。信頼性よりもリアルタイム性が重視され、動画等のコンテンツ配信、DNS、DHCP、NTPなどのアプリケーション層プロトコルで用いられている。
- RIP
    - ゲートウェイ間のホップ数によってルーティングを決めるプロトコルです。(Routing Information Protocol)
- DHCP
    - 端末に対して動的にIPアドレスを割り当てるプロトコルです。(Dynamic Host Configuration Protocol)
- (S)NTP
    - ネットワーク接続されている各種機器のシステム時計を正しい時刻(協定世界時:UTC)へ同期するための通信プロトコルです。(Network Time Protocol)ルーターやスイッチだけでなく、サーバーやクライアントPCでも使用できます。NNTP(インターネット上のネットニュースにアクセスするためのプロトコル)と間違えないこと!
- HTTP
    - Hypertext Transfer Protocolの略。アプリケーション層のプロトコルです。
- IP
    - Internet Protocolの略。ネットワーク層のプロトコルで、データグラム(IPパケット)という単位で通信を行います。宛先が自ら直接パケットを配送できるホストには配送します。できないホストの場合、隣のルーターへ配送を依頼します。そのため、創出したパケットが宛先に確実に到着することが保証されません。
- ICMP
    - TCP/IPネットワーク上で、ノード間が通信状態を確認するためのプロトコル。送信元ホストへIPパケットの送信エラー報告などの制御メッセージを通知する。IPパケットで送られているデータの「IPヘッダのプロトコル番号が1」ならICMPメッセージとなる。
- TTL
    - あるデータが破棄されるまで時間。IPv4のIPパケットには、ヘッダ内にTTLフールドがあり、パケットが送信されてからルータを1つ通過する毎に、この値が1ずつ減少します。TTLが0になると、このパケットは破棄され配送されなくなります。traceroute/tracertコマンドなどで確認できます。
- IPsec
    - IP(Internet Protocol)を拡張してセキュリティを高めたプロトコルで、改ざんの検知、通信データの暗号化、送信元の認証などの機能をOSI基本参照モデルのネットワーク層レベル(TCP/IPモデルではIP層)で提供します。IPsecを用いれば上層のアプリケーションに依存せずに暗号化通信を行えるため、VPNの構築に利用されます。認証、暗号化、鍵交換などの複数のプロトコルを含みます。そのうち、認証を担うプロトコルがAH(Authentication Header)、認証と暗号化を担うプロトコルがESP(Encapsulated Security Payload)です。
- S/MIME
    - Secure MIMEの略。公開鍵暗号技術を使用して「認証」「改ざん検出」「暗号化」などの機能を電子メールソフトに提供する規格です。
- SSH
    - Secure Shellの略。公開鍵暗号や認証の技術を利用して、安全にリモートコンピュータと通信するためのプロトコルです。
- XML暗号
    - XML暗号は、XML文書の一部分を暗号化するための規格です。
- PPP
    - Point-to-Point Protocolの略。電話回線を通じてコンピュータをネットワークに接続するダイヤルアップ接続でよく使われる、2点間を接続してデータ通信を行うための通信プロトコルです。
- SMTP
    - SMTP (Simple Mail Transfer Protocol)は、クライアントからメールサーバに電子メールを送信したり、メールサーバ間で電子メールを転送したりするのに用いられるプロトコルです。
- POP3
    - POP3 (Post Office Protocol version 3)は、利用者のコンピュータ上で動作するメールソフトが、メールサーバから自身のメールを取り出す処理において使用するメール受信用プロトコルです。
- IMAP
    - IMAP (Internet Message Access Protocol)は、電子メールの管理をクライアントPC上のメールソフトではなくメールサーバ上で行うことで、複数の端末から利用する場合のメール状態の一元管理やメールの選択受信などの機能を実現したメール受信用プロトコルです。
- VXLAN
    - レイヤー3ネットワーク内に論理的なレイヤー2ネットワークをカプセル化によって構築するプロトコル。
- RARP
    - ARPの逆で、端末側が自身のMACアドレスから、割り当てられているIPアドレスを取得するデータリンク層のプロトコル((Reverse Address Resolution Protocol)。ブロードキャスト通信を利用し、主にIPアドレス情報を保持できない端末が用いる。
- SIP
    - VoIPにおいて、2つ以上のクライアント間のセッションの確立、変更、切断を行うプロトコル。Session Initiation Protocolの略。
- TFTP
    - FTPと違い、ユーザ認証、ディレクトリ一覧の取得等を省略しUDPを用いるファイル転送プロトコル(FTPを簡素化したもの)。
- BGP-4
    - 自律システム間で経路情報に付加されたパス属性を使用し、ポリシに基づいて経路を選択するバスベクタ方式のプロトコルです(Border Gateway Protocol version 4)。
- OSPFv3
    - すべてのノードが同一のリンク状態データベースを用い、コストが最小となる経路を最適経路とするプロトコルです(Open Shortest Path First version 3)。
- RIP-2
    - ホップ数を目印として最適なルートを判定する距離ベクトル方式(Distance Vector)のルーティングプロトコルでマルチキャストを使用します(Routing Information Protocol version 2)。
- RIPng
    - RIPのIPv6版です(Routing Information Protocol next generation)は、。
- ウェルノウンポート番号
    - ウェルノウンポート番号は、通信プロトコルごとの標準的なポート番号です。代表的なものは以下のとおり。

プロトコル|ポート番号
--|--
FTP|20(21)
SMTP|25
DNS|53
HTTP|80
POP3|110
HTTPS|443

## TCP/IP


- IPアドレス
    - インターネット・プロトコル において、通信の相手先を識別するための番号。
- ループバック・アドレス	IPアドレスの中で「127.0.0.1」は現在使用している自分自身のコンピュータ(localhost)を指定する特別なアドレス(ローカル・ループバック・アドレス)です。hostsファイルで「127.0.0.1」の対応ホストとして「localhost」以外が設定されている場合、改ざんが行われた可能性が高いと判断できる。自コンピュータ内で動作しているプログラムと通信をする場合、送信元であるコンピュータ自身を宛先にするためのアドレスとし使用する。
- サブネットマスク
    - IPアドレスを分割し、「ネットワークアドレス部分」「ホストアドレス部分」を識別するために使う。
- ネットワークアドレス
    - ー
- ホストアドレス
    - ネットワーク内の個々のホストに割り当てられるアドレス(アドレスを表すビット列のうち、ホストを表す下位ビット部分のみを指す場合もある)
- ブロードキャストアドレス
    - ー
- ホスト最大数
    - サブネットに接続しているホストの最大数は、254からサブネットマスクの4オクテット目(10進数)を差し引くと求まります。
- ブロードキャスト
    - 同じネットワーク上にある全ての機器に同時に同じデータを送信します。
- ポート番号
    - TCP/IP通信において、コンピュータが通信に使用するプログラムを識別するための16ビットの数値で 0～65535 が指定可能です。TCP/IPでは、IPアドレスでネットワーク上のノードを一意に識別しますが、そのノードで稼働しているどのプロセス(プログラム)にデータを送るか、又はどのプロセスから送出されたのかはIPアドレスだけでは判断できません。パケットを受け取ったノードは、TCP/UDPヘッダ内のポート番号を確認することで、受信したデータを受け渡すプロセスを決定しています。IPアドレスとポート番号の関係は「建物の住所」と「部屋番号」の関係に似ていて、両者が揃うことで正しい宛先に届けることができます。PCのポート番号が"50001"、Webサーバのポート番号が"80"ならば、HTTPレスポンスを送信元PCのプロセスに届けるためには、宛先ポート番号に"50001"、及び送信元ポート番号としてHTTP通信を受け付けているポート番号"80"を指定します。
- TCPヘッダ
    - 送信元ポート番号、宛先ポート番号、シーケンス番号、確認応答番号などが含まれる。
- IPヘッダ
    - 送信元IPアドレス、宛先IPアドレス、パケット生存時間(TTL)、プロトコル番号などが含まれる。
- ICMP
    - Internet Control Message Protocolの略で、データ通信中のエラーを通知するなどでIPを補助する役割を持つネットワーク層のプロトコル。
- ウィンドウサイズ
    - TCP通信において、「受信可能なデータサイズ」を受信側が送信側に伝えるためのTCPヘッダ内のフィールド。送信側ではウィンドウサイズで指定されたデータを送信し、そのデータの受信確認応答を待つ間に、最新の確認応答内のウィンドウサイズを確認してデータを送信することを繰り返す。このようにデータの確認応答を待たずに次のデータ送信を行うことで、TCPでは効率のよいデータ転送を行う。
- 確認応答番号(ACK番号)
    - 受信側がどのパケットまでを正しく受信できているかを送信側に伝えるためのフィールド。
- シーケンス番号
    - 送信側が送るデータの先頭バイト番号を受信側に伝えるためのフィールド。
- セグメントサイズ
    - 受信可能なセグメントの最大サイズを相手側に伝えるためのオプションフィールド。
- クラスDのIPアドレス
    - 224.0.0.0～239.255.255.255のIPアドレス。UDPなどを用いるマルチキャスト通信で使用される。

## DNS


- MXレコード
    - DNSで管理しているドメイン宛てのメールの配送先となるメールサーバを登録するレコード(Mail eXchangeの略)。
- 正引き
    - ドメイン名からIPアドレスを求めること
- 逆引き
    - IPアドレスからドメイン名を求めること
- リゾルバ(Resolver)
    - ユーザからの名前解決要求に応じて、DNSサーバに問い合わせを行い、その結果を利用者に返すク- ライアントソフトウェア。
- フルサービスリゾルバ
    - 上記のリゾルバとしての役割すべてを担うリゾルバ。
- スタブリゾルバ
    - DNSリクエストを送信し、その結果を受け取るだけのリゾルバ。

## SOAP

## IPv6

- CIDR表記
    - CIDR表記とは、IPアドレスの範囲（複数のIPアドレス）を１行で記述できる方法です。「IPアドレス」と「サブネットマスク」を「＜IPアドレス＞/＜サブネットマスクの1の個数＞」というように記述しす。
- ホップリミット
    - パケットが無限に中継されることを防ぐことができる(IPv4では生存時間(TTL)で実現している)

種別|先頭ビット|IPv6アドレス|概要
--|--|--|--
未指定|0000 0000|::0/128|ー
ループバックアドレス|0000 0001|::1/128|現在使用しているシステムを指すアドレスで、IPv4の"127.0.0.1"に相当する。
マルチキャストアドレス|1111 1111|ff00::/8|複数のアドレス宛に同報通信を行うためのアドレスで、IPv4のマルチキャストとブロードキャストを兼ねた役割を果たす。
リンクローカルユニキャストアドレス|1111 1110 10|fe80::/10|ルータを超えない範囲内でのみ一意で、有効なアドレス。
ユニークローカルユニキャストアドレス|1111 110|fc00::/7|ローカルサイト内の範囲内でのみ一意で、有効なアドレスで、IPv4のプライベートアドレスに相当
グローバルユニキャストアドレス|上記以外|上記以外|IPv6ネットワーク全ての中で一意のアドレスで、IPv4のグローバルアドレスに相当



## シリアル通信 - Modbus、CAN


- Modbus
    - Modicon社がPLC (プログラマブルロジックコントローラ) 用途に開発したシリアル通信プロトコルです。 通信方式はマスタ・スレーブ方式で、マスターからのクエリー（通信の開始）とスレーブからの応答メッセージで通信します。このように、通信プロトコルは規定されていますが、物理レイヤ（RS-232-C、RS-485、イーサネットなどの通信媒体）は規定されていません。
- CAN
    - 自動車等に搭載されているネットワーク通信で、2本の通信線で各ノードと通信をします。
- PPPoE(PPP over Ethernet)
    - 電話回線やISDNなど、インターネット接続によく用いられていたPPP（Point-to-Point Protocol）を、LANの標準であるイーサネット上で利用できるようにしたもの。シリアル回線で使用するものと同じデータリンクのコネクション確立やデータ転送をLAN上で実現できる。

## 無線LAN

規格|策定年|周波数帯|最大通信速度|最大チャンネル幅
--|--|--|--|--
11a|1999|5GHz|54Mbps|20MHz
11n|2009|2.4, 5GHz|600Mbps|20/40MHz
11ac|2014|5GHz	6.93Gbps|80/160MHz
11ax|2021|2.4, 5GHz	9.6Gbps|80/160MHz



